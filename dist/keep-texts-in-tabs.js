!function(){"use strict";function e(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;var t=function(e,t,n){var o;void 0===n&&(n={});var r=n.retries,i=void 0===r?10:r,a=n.delay,s=void 0===a?10:a,c=n.shouldReject,l=void 0===c||c,u=null!==(o=n.rejectMessage)&&void 0!==o?o:"Could not get the result after {{ retries }} retries";return new Promise((function(n,o){var r=0,a=function(){var c=e();t(c)?n(c):++r<i?setTimeout(a,s):l?o(new Error(u.replace(/\{\{\s*retries\s*\}\}/g,"".concat(i)))):n(c)};a()}))},n=function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};function o(e,t,n,o){return new(n||(n=Promise))((function(t,r){function i(e){try{s(o.next(e))}catch(e){r(e)}}function a(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){var o;e.done?t(e.value):(o=e.value,o instanceof n?o:new n((function(e){e(o)}))).then(i,a)}s((o=o.apply(e,[])).next())}))}function r(e,t){var n,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}"function"==typeof SuppressedError&&SuppressedError;var i="$",a=":host",s="invalid selector",c=10,l=10,u=function(e){var t,n=e[0],o=e[1];return(t=n)&&(t instanceof Document||t instanceof Element||t instanceof ShadowRoot)&&"string"==typeof o};function _(e,t){return function(e){return e.split(",").map((function(e){return e.trim()}))}(e).map((function(e){var n=function(e){return e.split(i).map((function(e){return e.trim()}))}(e);return t(n)}))}function h(e,t){var n=t?" If you want to select a shadowRoot, use ".concat(t," instead."):"";return"".concat(e," cannot be used with a selector ending in a shadowRoot (").concat(i,").").concat(n)}function d(e){return e instanceof Promise?e:Promise.resolve(e)}function f(){return"You can not select a shadowRoot (".concat(i,") of the document.")}function O(){return"You can not select a shadowRoot (".concat(i,") of a shadowRoot.")}function A(e,t){for(var n,o,r=null,i=e.length,s=0;s<i;s++){if(0===s)if(e[s].length)r=t.querySelector(e[s]);else{if(t instanceof Document)throw new SyntaxError(f());if(t instanceof ShadowRoot)throw new SyntaxError(O());r=(null===(n=t.shadowRoot)||void 0===n?void 0:n.querySelector(e[++s]))||null}else r=(null===(o=r.shadowRoot)||void 0===o?void 0:o.querySelector("".concat(a," ").concat(e[s])))||null;if(null===r)return null}return r}function E(e,t){var n,o=function(e,t,n){for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return[].concat(o||Array.prototype.slice.call(t))}(0,e),r=o.pop();if(!o.length)return t.querySelectorAll(r);var i=A(o,t);return(null===(n=null==i?void 0:i.shadowRoot)||void 0===n?void 0:n.querySelectorAll("".concat(a," ").concat(r)))||null}function p(e,t){if(1===e.length&&!e[0].length){if(t instanceof Document)throw new SyntaxError(f());if(t instanceof ShadowRoot)throw new SyntaxError(O());return t.shadowRoot}var n=A(e,t);return(null==n?void 0:n.shadowRoot)||null}function v(e,n,i,a){return o(this,0,void 0,(function(){return r(this,(function(o){return[2,t((function(){return function(e,t,n,o){for(var r=_(e,(function(e){if(!e[e.length-1].length)throw new SyntaxError(h(n,o));return e})),i=r.length,a=0;a<i;a++){var s=A(r[a],t);if(s)return s}return null}(e,n,"asyncQuerySelector","asyncShadowRootQuerySelector")}),(function(e){return!!e}),{retries:i,delay:a,shouldReject:!1})]}))}))}function y(e,n,i,a){return o(this,0,void 0,(function(){return r(this,(function(o){return[2,t((function(){return function(e,t,n){for(var o=_(e,(function(e){if(!e[e.length-1].length)throw new SyntaxError(h(n));return e})),r=o.length,i=0;i<r;i++){var a=E(o[i],t);if(null==a?void 0:a.length)return a}return document.querySelectorAll(s)}(e,n,"asyncQuerySelectorAll")}),(function(e){return!!e.length}),{retries:i,delay:a,shouldReject:!1})]}))}))}function L(e,n,a,s){return o(this,0,void 0,(function(){return r(this,(function(o){return[2,t((function(){return function(e,t,n,o){for(var r=_(e,(function(e){if(e.pop().length)throw new SyntaxError(function(e,t){return"".concat(e," must be used with a selector ending in a shadowRoot (").concat(i,"). If you don't want to select a shadowRoot, use ").concat(t," instead.")}(n,o));return e})),a=r.length,s=0;s<a;s++){var c=p(r[s],t);if(c)return c}return null}(e,n,"asyncShadowRootQuerySelector","asyncQuerySelector")}),(function(e){return!!e}),{retries:a,delay:s,shouldReject:!1})]}))}))}var I=function(e,t){var n=e.querySelectorAll(t);if(n.length)return n;if(e instanceof Element&&e.shadowRoot){var o=I(e.shadowRoot,t);if(o.length)return o}for(var r=0,i=Array.from(e.querySelectorAll("*"));r<i.length;r++){var a=i[r],c=I(a,t);if(c.length)return c}return document.querySelectorAll(s)},m=function(e,n,o,r){return t((function(){return I(e,n)}),(function(e){return!!e.length}),{retries:o,delay:r,shouldReject:!1})};function R(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(this,0,void 0,(function(){var t,n,o,i,a;return r(this,(function(r){switch(r.label){case 0:return u(e)?(t=e[0],n=e[1],o=e[2],[4,v(n,t,(null==o?void 0:o.retries)||c,(null==o?void 0:o.delay)||l)]):[3,2];case 1:case 3:return[2,r.sent()];case 2:return i=e[0],a=e[1],[4,v(i,document,(null==a?void 0:a.retries)||c,(null==a?void 0:a.delay)||l)]}}))}))}function N(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(this,0,void 0,(function(){var t,n,o,i,a;return r(this,(function(r){switch(r.label){case 0:return u(e)?(t=e[0],n=e[1],o=e[2],[4,y(n,t,(null==o?void 0:o.retries)||c,(null==o?void 0:o.delay)||l)]):[3,2];case 1:return[2,r.sent()];case 2:return i=e[0],a=e[1],[2,y(i,document,(null==a?void 0:a.retries)||c,(null==a?void 0:a.delay)||l)]}}))}))}function S(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(this,0,void 0,(function(){var t,n,o,i,a;return r(this,(function(r){switch(r.label){case 0:return u(e)?(t=e[0],n=e[1],o=e[2],[4,L(n,t,(null==o?void 0:o.retries)||c,(null==o?void 0:o.delay)||l)]):[3,2];case 1:return[2,r.sent()];case 2:return i=e[0],a=e[1],[2,L(i,document,(null==a?void 0:a.retries)||c,(null==a?void 0:a.delay)||l)]}}))}))}var w=function(){function e(e,t){e instanceof Node||e instanceof Promise?(this._element=e,this._asyncParams=n({retries:c,delay:l},t||{})):(this._element=document,this._asyncParams=n({retries:c,delay:l},e||{}))}return Object.defineProperty(e.prototype,"element",{get:function(){return d(this._element).then((function(e){return e instanceof NodeList?e[0]||null:e}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){var t=this;return new e(d(this._element).then((function(e){return e instanceof Document||e instanceof ShadowRoot||null===e||e instanceof NodeList&&0===e.length?null:e instanceof NodeList?S(e[0],i,t._asyncParams):S(e,i,t._asyncParams)})),this._asyncParams)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"all",{get:function(){return d(this._element).then((function(e){return e instanceof NodeList?e:document.querySelectorAll(s)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"asyncParams",{get:function(){return this._asyncParams},enumerable:!1,configurable:!0}),e.prototype.eq=function(e){return o(this,0,void 0,(function(){return r(this,(function(t){return[2,d(this._element).then((function(t){return t instanceof NodeList&&t[e]||null}))]}))}))},e.prototype.query=function(t){var n=this;return new e(d(this._element).then((function(e){return null===e||e instanceof NodeList&&0===e.length?null:e instanceof NodeList?N(e[0],t,n._asyncParams):N(e,t,n._asyncParams)})),this._asyncParams)},e.prototype.deepQuery=function(t){var n=this;return new e(d(this._element).then((function(e){return null===e||e instanceof NodeList&&0===e.length?null:e instanceof NodeList?Promise.race(Array.from(e).map((function(e){return m(e,t,n._asyncParams.retries,n._asyncParams.delay)}))):m(e,t,n._asyncParams.retries,n._asyncParams.delay)})),this._asyncParams)},e}(),b=function(e,t){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},b(e,t)},g=function(){return g=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},g.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var T,D,H,P,G,M,F,C,B,x,j,W,$,U,V,q,k="$",Y={retries:100,delay:50,eventThreshold:450};!function(e){e.HOME_ASSISTANT="HOME_ASSISTANT",e.HOME_ASSISTANT_MAIN="HOME_ASSISTANT_MAIN",e.HA_DRAWER="HA_DRAWER",e.HA_SIDEBAR="HA_SIDEBAR",e.PARTIAL_PANEL_RESOLVER="PARTIAL_PANEL_RESOLVER"}(T||(T={})),function(e){e.HA_PANEL_LOVELACE="HA_PANEL_LOVELACE",e.HUI_ROOT="HUI_ROOT",e.HEADER="HEADER",e.HUI_VIEW="HUI_VIEW"}(D||(D={})),function(e){e.HA_MORE_INFO_DIALOG="HA_MORE_INFO_DIALOG",e.HA_DIALOG="HA_DIALOG",e.HA_DIALOG_CONTENT="HA_DIALOG_CONTENT",e.HA_MORE_INFO_DIALOG_INFO="HA_MORE_INFO_DIALOG_INFO",e.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK="HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK",e.HA_DIALOG_MORE_INFO_SETTINGS="HA_DIALOG_MORE_INFO_SETTINGS"}(H||(H={})),function(e){e.ON_LISTEN="onListen",e.ON_PANEL_LOAD="onPanelLoad",e.ON_LOVELACE_PANEL_LOAD="onLovelacePanelLoad",e.ON_MORE_INFO_DIALOG_OPEN="onMoreInfoDialogOpen",e.ON_HISTORY_AND_LOGBOOK_DIALOG_OPEN="onHistoryAndLogBookDialogOpen",e.ON_SETTINGS_DIALOG_OPEN="onSettingsDialogOpen"}(P||(P={})),function(e){e.HOME_ASSISTANT="home-assistant",e.HOME_ASSISTANT_MAIN="home-assistant-main",e.HA_DRAWER="ha-drawer",e.HA_SIDEBAR="ha-sidebar",e.PARTIAL_PANEL_RESOLVER="partial-panel-resolver",e.HA_PANEL_LOVELACE="ha-panel-lovelace",e.HUI_ROOT="hui-root",e.HEADER=".header",e.HUI_VIEW="hui-view",e.HA_MORE_INFO_DIALOG="ha-more-info-dialog",e.HA_DIALOG="ha-dialog",e.HA_DIALOG_CONTENT=".content",e.HA_MORE_INFO_DIALOG_INFO="ha-more-info-info",e.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK="ha-more-info-history-and-logbook",e.HA_DIALOG_MORE_INFO_SETTINGS="ha-more-info-settings"}(q||(q={}));var K,z,Q=((G={})[T.HOME_ASSISTANT]={selector:q.HOME_ASSISTANT,children:{shadowRoot:{selector:k,children:(M={},M[T.HOME_ASSISTANT_MAIN]={selector:q.HOME_ASSISTANT_MAIN,children:{shadowRoot:{selector:k,children:(F={},F[T.HA_DRAWER]={selector:q.HA_DRAWER,children:(C={},C[T.HA_SIDEBAR]={selector:q.HA_SIDEBAR,children:{shadowRoot:{selector:k}}},C[T.PARTIAL_PANEL_RESOLVER]={selector:q.PARTIAL_PANEL_RESOLVER},C)},F)}}},M)}}},G),Z=((B={})[D.HA_PANEL_LOVELACE]={selector:q.HA_PANEL_LOVELACE,children:{shadowRoot:{selector:k,children:(x={},x[D.HUI_ROOT]={selector:q.HUI_ROOT,children:{shadowRoot:{selector:k,children:(j={},j[D.HEADER]={selector:q.HEADER},j[D.HUI_VIEW]={selector:q.HUI_VIEW},j)}}},x)}}},B),J={shadowRoot:{selector:k,children:(W={},W[H.HA_MORE_INFO_DIALOG]={selector:q.HA_MORE_INFO_DIALOG,children:{shadowRoot:{selector:k,children:($={},$[H.HA_DIALOG]={selector:q.HA_DIALOG,children:(U={},U[H.HA_DIALOG_CONTENT]={selector:q.HA_DIALOG_CONTENT,children:(V={},V[H.HA_MORE_INFO_DIALOG_INFO]={selector:q.HA_MORE_INFO_DIALOG_INFO},V[H.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK]={selector:q.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK},V[H.HA_DIALOG_MORE_INFO_SETTINGS]={selector:q.HA_DIALOG_MORE_INFO_SETTINGS},V)},U)},$)}}},W)}},X=function(e,t,n,o){return void 0===n&&(n=null),void 0===o&&(o=!1),Object.entries(t||{}).reduce((function(t,r){var i=r[0],a=r[1];if(a.selector===k&&n)return a.children?g(g({},t),X(e,a.children,n,!0)):t;var s=n?n.then((function(t){return t?R(t,(n=a.selector,o?"$ "+n:n),e):null;var n})):R(a.selector,e);return t[i]={element:s,children:X(e,a.children,s),selector:new w(s,e)},t}),{})},ee=function(e,t){for(var n=0,o=Object.entries(t);n<o.length;n++){var r=o[n];if(r[0]===e)return r[1];var i=ee(e,r[1].children);if(i)return i}},te=function(e,t){return Object.keys(e).reduce((function(e,n){var o=ee(n,t);o.children;var r=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(o,["children"]);return e[n]=g({},r),e}),{})},ne=function(){function e(){this.delegate=document.createDocumentFragment()}return e.prototype.addEventListener=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.delegate).addEventListener.apply(e,t)},e.prototype.dispatchEvent=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.delegate).dispatchEvent.apply(e,t)},e.prototype.removeEventListener=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.delegate).removeEventListener.apply(e,t)},e}(),oe=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n._config=g(g({},Y),t),n._timestaps={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._dispatchEvent=function(e,t){var n=Date.now();n-this._timestaps[e]<this._config.eventThreshold||(this._timestaps[e]=n,this.dispatchEvent(new CustomEvent(e,{detail:t})))},t.prototype._updateDialogElements=function(e){var t,n=this;void 0===e&&(e=H.HA_MORE_INFO_DIALOG_INFO),this._dialogTree=X(this._config,J,this._haRootElements.HOME_ASSISTANT.element);var o=te(H,this._dialogTree);o.HA_DIALOG_CONTENT.element.then((function(e){n._dialogsContentObserver.disconnect(),n._dialogsContentObserver.observe(e,{childList:!0})})),this._haDialogElements=function(e,t){return[H.HA_MORE_INFO_DIALOG,H.HA_DIALOG,H.HA_DIALOG_CONTENT,t].reduce((function(t,n){return t[n]=e[n],t}),{})}(o,e);var r=((t={})[H.HA_MORE_INFO_DIALOG_INFO]=P.ON_MORE_INFO_DIALOG_OPEN,t[H.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK]=P.ON_HISTORY_AND_LOGBOOK_DIALOG_OPEN,t[H.HA_DIALOG_MORE_INFO_SETTINGS]=P.ON_SETTINGS_DIALOG_OPEN,t);this._dispatchEvent(r[e],this._haDialogElements)},t.prototype._updateRootElements=function(){var e=this;this._homeAssistantRootTree=X(this._config,Q),this._haRootElements=te(T,this._homeAssistantRootTree),this._haRootElements[T.HOME_ASSISTANT].selector.$.element.then((function(t){e._dialogsObserver.disconnect(),e._dialogsObserver.observe(t,{childList:!0})})),this._haRootElements[T.PARTIAL_PANEL_RESOLVER].element.then((function(t){e._panelResolverObserver.disconnect(),t&&e._panelResolverObserver.observe(t,{subtree:!0,childList:!0})})),this._dispatchEvent(P.ON_LISTEN,this._haRootElements),this._dispatchEvent(P.ON_PANEL_LOAD,this._haRootElements)},t.prototype._updateLovelaceElements=function(){var e=this;this._homeAssistantResolverTree=X(this._config,Z,this._haRootElements[T.HA_DRAWER].element),this._haResolverElements=te(D,this._homeAssistantResolverTree),this._haResolverElements[D.HA_PANEL_LOVELACE].element.then((function(t){e._lovelaceObserver.disconnect(),t&&(e._lovelaceObserver.observe(t.shadowRoot,{childList:!0}),e._dispatchEvent(P.ON_LOVELACE_PANEL_LOAD,g(g({},e._haRootElements),e._haResolverElements)))}))},t.prototype._watchDialogs=function(e){var t=this;e.forEach((function(e){e.addedNodes.forEach((function(e){e.localName===q.HA_MORE_INFO_DIALOG&&t._updateDialogElements()}))}))},t.prototype._watchDialogsContent=function(e){var t=this;e.forEach((function(e){e.addedNodes.forEach((function(e){var n,o=((n={})[q.HA_MORE_INFO_DIALOG_INFO]=H.HA_MORE_INFO_DIALOG_INFO,n[q.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK]=H.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK,n[q.HA_DIALOG_MORE_INFO_SETTINGS]=H.HA_DIALOG_MORE_INFO_SETTINGS,n);if(e.localName&&e.localName in o){var r=e.localName;t._updateDialogElements(o[r])}}))}))},t.prototype._watchDashboards=function(e){var t=this;e.forEach((function(e){e.addedNodes.forEach((function(e){t._dispatchEvent(P.ON_PANEL_LOAD,t._haRootElements),e.localName===q.HA_PANEL_LOVELACE&&t._updateLovelaceElements()}))}))},t.prototype._watchLovelace=function(e){var t=this;e.forEach((function(e){e.addedNodes.forEach((function(e){e.localName===q.HUI_ROOT&&t._updateLovelaceElements()}))}))},t.prototype.listen=function(){this._watchDialogsBinded=this._watchDialogs.bind(this),this._watchDialogsContentBinded=this._watchDialogsContent.bind(this),this._watchDashboardsBinded=this._watchDashboards.bind(this),this._watchLovelaceBinded=this._watchLovelace.bind(this),this._dialogsObserver=new MutationObserver(this._watchDialogsBinded),this._dialogsContentObserver=new MutationObserver(this._watchDialogsContentBinded),this._panelResolverObserver=new MutationObserver(this._watchDashboardsBinded),this._lovelaceObserver=new MutationObserver(this._watchLovelaceBinded),this._updateRootElements(),this._updateLovelaceElements()},t.prototype.addEventListener=function(t,n,o){e.prototype.addEventListener.call(this,t,n,o)},t}(ne),re=/([A-Z])([a-z0-9_-]+)/g,ie=function(e){return Object.entries(e).map((function(e){var t=e[0],n=e[1];return"".concat(function(e){return e.replace(re,(function(e,t,n,o){var r=t.toLocaleLowerCase();return o?"-".concat(r).concat(n):"--".concat(r).concat(n)}))}(t),":").concat(n)})).join(";")+";"},ae=function(e){return(Array.isArray(e)?e:[e]).map((function(e){return"string"==typeof e?e:Object.entries(e).map((function(e){var t=e[0],n=e[1];return!1===n?"".concat(t,"{display: none !important}"):"".concat(t,"{").concat(ie(n),"}")})).join("")})).join("")},se=function(e,t){return"".concat(t,"_").concat(e)},ce=function(e){return e instanceof ShadowRoot?e.host.localName:e.localName},le=function(e,t){var n=se(ce(e),t);return e.querySelector("#".concat(n))},ue=function(){function e(e){var t,n,o;void 0===e&&(e={}),this._prefix=null!==(t=e.prefix)&&void 0!==t?t:"ha-styles-manager",this._namespace=null!==(n=e.namespace)&&void 0!==n?n:"home-assistant-styles-manager",this._throwWarnings=null===(o=e.throwWarnings)||void 0===o||o}return e.prototype.getStyleElement=function(e){return le(e,this._prefix)},e.prototype.addStyle=function(e,t){!function(e,t,n,o,r){if(t){var i=le(t,n);if(!i){var a=se(ce(t),n);(i=document.createElement("style")).setAttribute("id",a),t.appendChild(i)}i.innerHTML="string"==typeof e?e:ae(e)}else r&&console.warn("".concat(o,': no element has been provided calling "addStyle"'))}(e,t,this._prefix,this._namespace,this._throwWarnings)},e.prototype.removeStyle=function(e){!function(e,t,n,o){if(e){var r=le(e,t);r?r.remove():o&&console.warn("".concat(n,': no style to remove calling "removeStyle"'))}else o&&console.warn("".concat(n,': no element has been provided calling "removeStyle"'))}(e,this._prefix,this._namespace,this._throwWarnings)},e}();!function(e){e.AFTER="after",e.BEFORE="before"}(K||(K={})),function(e){e.CAPITALIZE="capitalize",e.UPPERCASE="uppercase",e.LOWERCASE="lowercase"}(z||(z={}));const _e="keep-texts-in-tabs",he="aria-label";var de;!function(e){e.TOOLBAR=".toolbar",e.SL_TAB_GROUP="sl-tab-group",e.SL_TAB="sl-tab",e.HUI_VIEW="hui-view",e.HA_ICON="ha-icon",e.SPAN="span"}(de||(de={}));const fe=`${de.SL_TAB} ${de.SPAN}.${_e}`,Oe={[fe]:{display:"inline-block"},[`${fe}-${K.BEFORE}`]:{paddingRight:"5px"},[`${fe}-${K.AFTER}`]:{paddingLeft:"5px"},[`${fe}-${z.CAPITALIZE}`]:{textTransform:z.CAPITALIZE},[`${fe}-${z.UPPERCASE}`]:{textTransform:z.UPPERCASE},[`${fe}-${z.LOWERCASE}`]:{textTransform:z.LOWERCASE}};class Ae{constructor(){this.styleManager=new ue({prefix:_e,throwWarnings:!1});const t=new oe;t.addEventListener(P.ON_LOVELACE_PANEL_LOAD,(t=>e(this,void 0,void 0,(function*(){const{HA_PANEL_LOVELACE:e,HUI_ROOT:n,HEADER:o}=t.detail;this.lovelace=yield e.element,this.huiRoot=yield n.selector.$.element,this.appToolbar=yield o.selector.query(de.TOOLBAR).element,this.run()})))),t.listen(),this.resizeWindowBinded=this.resizeWindow.bind(this),window.addEventListener("resize",this.resizeWindowBinded)}run(){return e(this,void 0,void 0,(function*(){var e;null===(e=this.toolBarObserver)||void 0===e||e.disconnect(),this.styleManager.addStyle(Oe,this.appToolbar);const t=this.lovelace.lovelace.config;this.toolBarObserver=new MutationObserver(this.process.bind(this,t.keep_texts_in_tabs)),this.toolBarObserver.observe(this.appToolbar,{childList:!0}),this.process(t.keep_texts_in_tabs)}))}process(e){var t;if(null===(t=this.tabsEditionResolver)||void 0===t||t.disconnect(),!e)return;let n;n=e.mobile_config&&window.innerWidth<=(e.mobile_config.mobile_screen_width||640)?e.mobile_config:e;const{enabled:o=!1,include:r,exclude:i,position:a=K.AFTER,override:s=[],text_transform:c}=n;if(r&&i)throw Error(`${_e}: Configuration cannot have "include" and "exclude" properties at the same time`);const l=!!this.huiRoot.querySelector(":host > div.edit-mode"),u=l?this.huiRoot.querySelector(de.SL_TAB_GROUP):this.appToolbar.querySelector(de.SL_TAB_GROUP),_=u?Array.from(u.querySelectorAll(de.SL_TAB)):[];if(!_.length)return;const h=s.map((e=>e.toLowerCase()));_.map((e=>{const t=e.getAttribute(he)||"",n=e.querySelector(`span.${_e}`);return n&&n.remove(),{element:e,label:t,icon:e.querySelector(de.HA_ICON),position:h.includes(t.toLowerCase())?a===K.AFTER?K.BEFORE:K.AFTER:a}})).filter((e=>!(!o||!e.icon)&&(r?r.includes(e.label):!i||!i.includes(e.label)))).forEach((e=>{const t=((e,t,n=z.CAPITALIZE)=>{const o=document.createTextNode(e),r=document.createElement("span");return r.classList.add(_e,`${_e}-${t}`,`${_e}-${n}`),r.appendChild(o),r})(e.label,e.position,c);e.position===K.AFTER?e.element.insertBefore(t,e.icon.nextSibling):e.element.insertBefore(t,e.icon)})),o&&l&&(this.tabsEditionResolver=new MutationObserver((t=>{for(const n of t){const{addedNodes:t,attributeName:o}=n;if(o===he){this.process(e);break}for(const n of t)if(n.nodeType===Node.ELEMENT_NODE&&(n.nodeName===de.SL_TAB.toUpperCase()||n.nodeName===de.HA_ICON.toUpperCase())){this.process(e);break}}})),this.tabsEditionResolver.observe(this.huiRoot.querySelector(de.SL_TAB_GROUP),{attributeFilter:[he],childList:!0,subtree:!0}))}resizeWindow(){window.clearTimeout(this.resizeDelay),this.resizeDelay=window.setTimeout((()=>{this.run()}),100)}}console.info(`%c＋ ${_e.toUpperCase()}%cv1.3.0`,"font-weight: bold; color: #038fc7; padding: 2px;","font-weight: normal; color: #212121; padding: 2px"),Promise.resolve(customElements.whenDefined(de.HUI_VIEW)).then((()=>{new Ae}))}();
